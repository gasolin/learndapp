"use strict";(self.webpackChunklearndapp=self.webpackChunklearndapp||[]).push([[769],{3905:function(e,n,t){t.d(n,{Zo:function(){return f},kt:function(){return d}});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function i(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?i(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):i(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function l(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},i=Object.keys(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)t=i[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var p=r.createContext({}),c=function(e){var n=r.useContext(p),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},f=function(e){var n=c(e.components);return r.createElement(p.Provider,{value:n},e.children)},u={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},s=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,i=e.originalType,p=e.parentName,f=l(e,["components","mdxType","originalType","parentName"]),s=c(t),d=a,k=s["".concat(p,".").concat(d)]||s[d]||u[d]||i;return t?r.createElement(k,o(o({ref:n},f),{},{components:t})):r.createElement(k,o({ref:n},f))}));function d(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var i=t.length,o=new Array(i);o[0]=s;var l={};for(var p in n)hasOwnProperty.call(n,p)&&(l[p]=n[p]);l.originalType=e,l.mdxType="string"==typeof e?e:a,o[1]=l;for(var c=2;c<i;c++)o[c]=t[c];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}s.displayName="MDXCreateElement"},2569:function(e,n,t){t.r(n),t.d(n,{frontMatter:function(){return l},contentTitle:function(){return p},metadata:function(){return c},toc:function(){return f},default:function(){return s}});var r=t(7462),a=t(3366),i=(t(7294),t(3905)),o=["components"],l={title:"\u5c07\u667a\u80fd\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def"},p=void 0,c={unversionedId:"deploy-to-testnet",id:"deploy-to-testnet",title:"\u5c07\u667a\u80fd\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def",description:"\u7d93\u904e\u524d\u9762\u7ae0\u7bc0\u7684\u5b78\u7fd2\uff0c\u6211\u5011\u64b0\u5beb\u7684\u667a\u80fd\u5408\u7d04\u53ef\u4ee5\u5728\u672c\u5730\u7aef\u904b\u884c\uff0c\u4e26\u6709\u6e2c\u8a66\u4fdd\u8b49\u57fa\u672c\u7684\u904b\u4f5c\u6b63\u5e38\uff0c\u800c\u4e14\u4e5f\u6709\u4e86MetaMask\u9322\u5305\u5e33\u6236\u80fd\u67e5\u770b\u5408\u7d04\u4e2d\u7684\u4ee3\u5e63\u3002\u63a5\u8457\u6211\u5011\u53ef\u4ee5\u5617\u8a66\u5c07\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u4e0a\u3002",source:"@site/docs/deploy-to-testnet.md",sourceDirName:".",slug:"/deploy-to-testnet",permalink:"/learndapp/deploy-to-testnet",editUrl:"https://github.com/facebook/docusaurus/edit/master/website/docs/deploy-to-testnet.md",tags:[],version:"current",frontMatter:{title:"\u5c07\u667a\u80fd\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def"},sidebar:"docs",previous:{title:"\u4f7f\u7528MetaMask\u9322\u5305\u6536\u9001\u4e59\u592a\u5e63",permalink:"/learndapp/howto-send-ether-from-wallet"},next:{title:"\u5206\u6563\u5f0f\u7db2\u9801\u61c9\u7528(DApp)",permalink:"/learndapp/dapp"}},f=[{value:"\u90e8\u7f72\u7684\u65b9\u5f0f",id:"\u90e8\u7f72\u7684\u65b9\u5f0f",children:[{value:"\u7533\u8acb Infura \u5e33\u6236",id:"\u7533\u8acb-infura-\u5e33\u6236",children:[],level:3},{value:"\u5f9e\u6c34\u9f8d\u982d\u53d6\u5f97\u6e2c\u8a66Ether",id:"\u5f9e\u6c34\u9f8d\u982d\u53d6\u5f97\u6e2c\u8a66ether",children:[],level:3},{value:"\u4fee\u6539 truffle.js \u8a2d\u5b9a",id:"\u4fee\u6539-trufflejs-\u8a2d\u5b9a",children:[{value:"\u8aaa\u660e",id:"\u8aaa\u660e",children:[],level:4}],level:3}],level:2},{value:"\u90e8\u7f72",id:"\u90e8\u7f72",children:[],level:2},{value:"\u53c3\u8003\u8cc7\u6599",id:"\u53c3\u8003\u8cc7\u6599",children:[],level:2}],u={toc:f};function s(e){var n=e.components,t=(0,a.Z)(e,o);return(0,i.kt)("wrapper",(0,r.Z)({},u,t,{components:n,mdxType:"MDXLayout"}),(0,i.kt)("p",null,"\u7d93\u904e\u524d\u9762\u7ae0\u7bc0\u7684\u5b78\u7fd2\uff0c\u6211\u5011\u64b0\u5beb\u7684\u667a\u80fd\u5408\u7d04\u53ef\u4ee5\u5728\u672c\u5730\u7aef\u904b\u884c\uff0c\u4e26\u6709\u6e2c\u8a66\u4fdd\u8b49\u57fa\u672c\u7684\u904b\u4f5c\u6b63\u5e38\uff0c\u800c\u4e14\u4e5f\u6709\u4e86MetaMask\u9322\u5305\u5e33\u6236\u80fd\u67e5\u770b\u5408\u7d04\u4e2d\u7684\u4ee3\u5e63\u3002\u63a5\u8457\u6211\u5011\u53ef\u4ee5\u5617\u8a66\u5c07\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u4e0a\u3002"),(0,i.kt)("p",null,"\u4e59\u592a\u574a\u76ee\u524d\u9664\u4e86\u4e3b\u7db2\u8def\uff08Main Net\uff09\u5916\uff0c\u9084\u63d0\u4f9b\u591a\u500b\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u4ee5\u4f9b\u8a66\u7528\u3002\u5c07\u667a\u80fd\u5408\u7d04\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u7684\u6d41\u7a0b\uff0c\u8207\u4e4b\u5f8c\u90e8\u7f72\u5230\u4e3b\u7db2\u8def\uff08Main Net\uff09\u7684\u6d41\u7a0b\u662f\u4e00\u6a23\u7684\u3002\u672c\u7bc7\u5c07\u4f7f\u7528\u5176\u4e2d\u7684",(0,i.kt)("inlineCode",{parentName:"p"},"rinkeby"),"\u6e2c\u8a66\u7db2\u8def\u3002"),(0,i.kt)("p",null,"\u8981\u5c07\u667a\u80fd\u5408\u7d04\u90e8\u7f72\u5230\u90e8\u7f72\u5230\u5340\u584a\u93c8\u6642\u9700\u8981\u82b1\u8cbbEther\u3002\u6e2c\u8a66\u7db2\u8def\u7528\u7684Ether\u662f\u6e2c\u8a66\u7528\u7684Ether\uff0c\u4f7f\u7528\u76f8\u540c\u7684\u5e33\u6236\u9023\u4e0a\u4e0d\u540c\u7684\u7db2\u8def\uff0c\u53ef\u4ee5\u770b\u5230\u4e0d\u540c\u7684\u9918\u984d\u3002"),(0,i.kt)("h2",{id:"\u90e8\u7f72\u7684\u65b9\u5f0f"},"\u90e8\u7f72\u7684\u65b9\u5f0f"),(0,i.kt)("p",null,"\u8981\u90e8\u7f72\u5230\u6e2c\u8a66\u7db2\u8def\u6216\u4e3b\u7db2\u8def\uff0c\u53ef\u4ee5\u900f\u904e\u5728\u672c\u5730\u81ea\u884c\u5b89\u88dd",(0,i.kt)("inlineCode",{parentName:"p"},"Geth"),"\u7b49\u4e59\u592a\u574a\u7bc0\u9ede\uff0c\u4e26\u900f\u904e",(0,i.kt)("inlineCode",{parentName:"p"},"geth --rinkeby"),"\u547d\u4ee4\u5c07\u7bc0\u9ede\u5207\u63db\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def",(0,i.kt)("sup",{parentName:"p",id:"fnref-1"},(0,i.kt)("a",{parentName:"sup",href:"#fn-1",className:"footnote-ref"},"1")),"\u3002\u6216\u8005\u4e5f\u53ef\u4ee5\u900f\u904eInfura\u63d0\u4f9b\u7684\u516c\u958b\u7bc0\u9ede\u4f86\u5f9etruffle\u90e8\u7f72\u667a\u80fd\u5408\u7d04",(0,i.kt)("sup",{parentName:"p",id:"fnref-2"},(0,i.kt)("a",{parentName:"sup",href:"#fn-2",className:"footnote-ref"},"2")),"\u3002"),(0,i.kt)("p",null,"\u672c\u7ae0\u5c07\u4e3b\u8981\u4ecb\u7d39\u7b2c\u4e8c\u7a2e\u65b9\u5f0f\u3002"),(0,i.kt)("h3",{id:"\u7533\u8acb-infura-\u5e33\u6236"},"\u7533\u8acb Infura \u5e33\u6236"),(0,i.kt)("p",null,"Infura \u63d0\u4f9b\u4e86\u53ef\u516c\u958b\u5b58\u53d6\u7684\u4e59\u592a\u574a\u7bc0\u9ede\uff0c\u524d\u9762\u4ecb\u7d39\u7684MetaMask\u4e5f\u662f\u9023\u7dda\u5230Infura\u7684\u516c\u958b\u7bc0\u9ede\u3002\n\u53ef\u524d\u5f80 ",(0,i.kt)("a",{parentName:"p",href:"https://infura.io/signup"},"https://infura.io/signup")," \u8a3b\u518a\u3002\u8a3b\u518a\u5f8c\u7db2\u9801\u4e0a\u6703\u5217\u51fa\u53ef\u7528\u5728\u5404\u6e2c\u8a66\u7db2\u8def\u4e0a\u7684\u516c\u958b\u7bc0\u9ede\u7db2\u5740\uff0c\u4e26\u5e36\u6709\u525b\u525b\u8a3b\u518a\u5e33\u6236\u7684\u5b58\u53d6\u4ee4\u724c(token)\u3002\u6211\u5011\u5c07\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"https://rinkeby.infura.io/<TOKEN>"),"\u7db2\u5740\u5b58\u53d6\u4e59\u592a\u574a\u7bc0\u9ede\u3002"),(0,i.kt)("h3",{id:"\u5f9e\u6c34\u9f8d\u982d\u53d6\u5f97\u6e2c\u8a66ether"},"\u5f9e\u6c34\u9f8d\u982d\u53d6\u5f97\u6e2c\u8a66Ether"),(0,i.kt)("p",null,"\u524d\u5f80 ",(0,i.kt)("a",{parentName:"p",href:"https://faucet.rinkeby.io"},"https://faucet.rinkeby.io")," \u4ee5\u53d6\u5f97\u514d\u8cbb\u7684\u6e2c\u8a66Ether\u3002",(0,i.kt)("a",{parentName:"p",href:"https://faucet.rinkeby.io"},"https://faucet.rinkeby.io")," \u8981\u6c42\u5148\u5f9e\u4f60\u7684 Twitter, Google+, Facebook \u5e33\u6236\u4e2d\u64c7\u4e00\u8cbc\u4e0a\u4e00\u5247\u516c\u958b\u8a0a\u606f\u3002\u9019\u5247\u8a0a\u606f\u9700\u5305\u542b\u4f60\u7684\u4e59\u592a\u574a\u5e33\u6236\u5730\u5740(",(0,i.kt)("inlineCode",{parentName:"p"},"0x..."),")\u3002\u5728 MetaMask \u4e2d\u8907\u88fd\u76ee\u524d\u7684\u5e33\u6236\u5730\u5740\u5f8c\u8cbc\u5230\u4e0a\u8ff0\u4efb\u4e00\u793e\u4ea4\u7db2\u7ad9\u4e0a\uff0c\u7136\u5f8c\u5c07\u516c\u958b\u7db2\u5740\u9023\u7d50\u8cbc\u5230 ",(0,i.kt)("a",{parentName:"p",href:"https://faucet.rinkeby.io"},"https://faucet.rinkeby.io")," \uff0c\u7b49\u4e00\u9663\u5b50\u5373\u53ef\u5728\u5e33\u6236\u4e2d\u6536\u5230\u6e2c\u8a66\u7528\u7684Ether\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/Rctp3gKl.png",alt:"Imgur"})),(0,i.kt)("p",null,"\u5982\u679c\u904e\u4e00\u9663\u5b50\u9084\u6c92\u770b\u5230\uff0c\u53ef\u4ee5\u6aa2\u67e5\u4e00\u4e0b MetaMask \u7576\u524d\u7684\u7db2\u8def\u662f\u5426\u70ba",(0,i.kt)("inlineCode",{parentName:"p"},"rinkeby"),"\u6e2c\u8a66\u7db2\u8def\u3002"),(0,i.kt)("h3",{id:"\u4fee\u6539-trufflejs-\u8a2d\u5b9a"},"\u4fee\u6539 truffle.js \u8a2d\u5b9a"),(0,i.kt)("p",null,"\u82e5\u60f3\u900f\u904e truffle \u548c Infura \u5b58\u53d6 rinkeby \u7db2\u8def\uff0c\u9700\u8981\u5148\u7a0d\u4f5c\u8a2d\u5b9a\u3002\n\u9996\u5148\uff0c\u9700\u5b89\u88dd",(0,i.kt)("inlineCode",{parentName:"p"},"truffle-hdwallet-provider"),"\u597d\u8b93\u6211\u5011\u53ef\u4ee5\u76f4\u63a5\u7c3d\u7f72\u4ea4\u6613\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"npm install truffle-hdwallet-provider")),(0,i.kt)("p",null,"\u7136\u5f8c\u4fee\u6539",(0,i.kt)("inlineCode",{parentName:"p"},"truffle.js"),"\u8a2d\u5b9a\u5982\u4e0b"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'var HDWalletProvider = require("truffle-hdwallet-provider");\nvar mnemonic = "your account twelve words ...";\nvar infura_url = "https://rinkeby.infura.io/<YOUR_TOKEN>";\n\nmodule.exports = {\n  // See <http://truffleframework.com/docs/advanced/configuration>\n  // to customize your Truffle configuration!\n  networks: {\n    development: {\n      host: "localhost",\n      port: 8545,\n      network_id: "*" // Match any network id\n    },\n    rinkeby: {\n      provider: function() {\n        return new HDWalletProvider(mnemonic, infura_url)\n      },\n      network_id: "*"\n    }\n  }\n};\n')),(0,i.kt)("h4",{id:"\u8aaa\u660e"},"\u8aaa\u660e"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},'  rinkeby: {\n    provider: function() {\n      return new HDWalletProvider(mnemonic, infura_url)\n    },\n    network_id: "*"\n  }\n')),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"rinkeby"),"\u662ftruffle.js\u4e2d\u9019\u500b\u7db2\u8def\u504f\u597d\u8a2d\u5b9a\u7684\u4ee3\u865f\uff0c\u53ef\u4ee5\u4efb\u610f\u4fee\u6539\uff0c\u9019\u908a\u4f9d\u4f7f\u7528\u7684\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u7684\u4ee3\u865f",(0,i.kt)("inlineCode",{parentName:"p"},"rinkeby"),"\u4f86\u53d6\u540d\u3002"),(0,i.kt)("p",null,(0,i.kt)("inlineCode",{parentName:"p"},"provider")," \u8a2d\u5b9a\u6700\u597d\u80fd\u5305\u6210\u4e00\u500b\u51fd\u5f0f\uff08function\uff09\uff0c\u9019\u6a23\u53ea\u6709\u904b\u884c\u5230\u9019\u6bb5\u8a2d\u5b9a\u6642\uff0c\u88e1\u9762\u7684\u5167\u5bb9\u624d\u6703\u958b\u59cb\u57f7\u884c\u3002"),(0,i.kt)("h2",{id:"\u90e8\u7f72"},"\u90e8\u7f72"),(0,i.kt)("p",null,"\u8981\u90e8\u7f72\u5230\u516c\u958b\u6e2c\u8a66\u7db2\u8def\u4e00\u6a23\u662f\u4f7f\u7528",(0,i.kt)("inlineCode",{parentName:"p"},"truffle migrate"),"\u547d\u4ee4\uff0c\u53ea\u9700\u5728\u5176\u5f8c\u52a0\u4e0a",(0,i.kt)("inlineCode",{parentName:"p"},"--network \u6e2c\u8a66\u7db2\u8def\u4ee3\u865f")," \u5373\u53ef\u3002"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"$ truffle migrate --network rinkeby\n")),(0,i.kt)("p",null,"\u90e8\u7f72\u5f8c\u547d\u4ee4\u884c\u986f\u793a\u7684\u7d00\u9304\u5982\u4e0b\uff1a"),(0,i.kt)("pre",null,(0,i.kt)("code",{parentName:"pre",className:"language-js"},"$ truffle migrate --network rinkeby\nCompiling ./contracts/HelloToken.sol...\nCompiling ./contracts/HelloWorld.sol...\nCompiling ./contracts/Migrations.sol...\nCompiling ./contracts/SimpleToken.sol...\nCompiling zeppelin-solidity/contracts/math/SafeMath.sol...\nCompiling zeppelin-solidity/contracts/token/ERC20/BasicToken.sol...\nCompiling zeppelin-solidity/contracts/token/ERC20/ERC20.sol...\nCompiling zeppelin-solidity/contracts/token/ERC20/ERC20Basic.sol...\nCompiling zeppelin-solidity/contracts/token/ERC20/StandardToken.sol...\n\nCompilation warnings encountered:\n\n....\n\nWriting artifacts to ./build/contracts\n\nUsing network 'rinkeby'.\n\nRunning migration: 1_initial_migration.js\n  Deploying Migrations...\n  ... 0xd911261e8e1dc94bad9d869575fdb7ed5799cfaba10ceb4a301595ee72d21f62\n  Migrations: 0x44932dd610d67d4f09fb9d1e6f6f977d04f9cc93\nSaving successful migration to network...\n  ... 0x65b28cf89eea4f08c23d119d3a468a84dd934128bd43c63646741f7675093cf0\nSaving artifacts...\nRunning migration: 2_deploy_contracts.js\n  Deploying HelloWorld...\n  ... 0x9ddf6afb68d07e6214d89a049c12a99c4f1818c285e75738816dc1247e880164\n  HelloWorld: 0x6876d2b11e33ee4820c9f01e796d8b0275e4dc32\nSaving successful migration to network...\n  ... 0xac66fed12a2f46db687e911031447388398e879d3e0fefc750c1a3ab11f14daf\nSaving artifacts...\nRunning migration: 3_deploy_simple_token.js\n  Deploying SimpleToken...\n  ... 0xa1a7a96bc7d51236a9c1b57db75376283980f1e0cf84e7f3cd589d95ede375dd\n  SimpleToken: 0xea024fcb3a31966f64eb63a651d240b983af6f80\nSaving successful migration to network...\n  ... 0x2bee88ac101482ee7c82023946951551e0a0958d7441d586e15cf85c9b19e12a\nSaving artifacts...\nRunning migration: 4_deploy_hellotoken.js\n  Deploying HelloToken...\n  ... 0x3a54bd1046e3dfa4e57a64078a9929052872d5ab5ed8448c60c63650eb0cb5ef\n  HelloToken: 0xe32c8971fdab584a31814c834f1785307433ff2b\nSaving successful migration to network...\n  ... 0x9518d5cbaa86955f6b73265e6a2acf7c76693b38c0db517ddf1c9414fcfa1635\nSaving artifacts...\n")),(0,i.kt)("p",null,"\u900f\u904e\u8a18\u9304\u53ef\u4ee5\u770b\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"HelloToken"),"\u5df2\u90e8\u7f72\u5230",(0,i.kt)("inlineCode",{parentName:"p"},"0xe32c8971fdab584a31814c834f1785307433ff2b"),"\u4e0a\u4e86\u3002\n\u6211\u5011\u53ef\u4ee5\u524d\u5f80 ",(0,i.kt)("a",{parentName:"p",href:"https://rinkeby.etherscan.io"},"https://rinkeby.etherscan.io")," \u67e5\u8a62\u5230\u525b\u90e8\u7f72\u7684HelloToken\u667a\u80fd\u5408\u7d04\u3002"),(0,i.kt)("p",null,(0,i.kt)("img",{parentName:"p",src:"https://i.imgur.com/GPDlYEml.png",alt:"Imgur"}),"\n",(0,i.kt)("a",{parentName:"p",href:"https://rinkeby.etherscan.io/address/0xE32C8971fdab584A31814C834f1785307433FF2B"},"https://rinkeby.etherscan.io/address/0xE32C8971fdab584A31814C834f1785307433FF2B")),(0,i.kt)("h2",{id:"\u53c3\u8003\u8cc7\u6599"},"\u53c3\u8003\u8cc7\u6599"),(0,i.kt)("ul",null,(0,i.kt)("li",{parentName:"ul"},"[1][How to get on Rinkeby Testnet in less than 10 minutes]","(",(0,i.kt)("a",{parentName:"li",href:"https://gist.github.com/cryptogoth/10a98e8078cfd69f7ca892ddbdcf26bc"},"https://gist.github.com/cryptogoth/10a98e8078cfd69f7ca892ddbdcf26bc"),")"),(0,i.kt)("li",{parentName:"ul"},"[2][Using Infura (or a custom provider)]","(",(0,i.kt)("a",{parentName:"li",href:"http://truffleframework.com/tutorials/using-infura-custom-provider"},"http://truffleframework.com/tutorials/using-infura-custom-provider"),")")))}s.isMDXComponent=!0}}]);